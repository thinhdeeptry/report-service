{
	"info": {
		"_postman_id": "e5a7b8f3-4c2d-4e5f-8d9a-1b2c3d4e5f6a",
		"name": "Report Service API",
		"description": "Collection of API endpoints for the Report Service",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Get All Reports",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{baseUrl}}/reports",
					"host": [
						"{{baseUrl}}"
					],
					"path": [
						"reports"
					]
				},
				"description": "Lấy danh sách tất cả các báo cáo"
			},
			"response": []
		},
		{
			"name": "Get Report by ID",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{baseUrl}}/reports/:id",
					"host": [
						"{{baseUrl}}"
					],
					"path": [
						"reports",
						":id"
					],
					"variable": [
						{
							"key": "id",
							"value": "report_id",
							"description": "ID của báo cáo cần lấy"
						}
					]
				},
				"description": "Lấy thông tin chi tiết của một báo cáo theo ID"
			},
			"response": []
		},
		{
			"name": "Create Report",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"title\": \"Báo cáo tháng 5/2025\",\n    \"date\": \"2025-05-13T00:00:00.000Z\",\n    \"data\": {\n        \"revenue\": {\n            \"total\": 50000,\n            \"last30Days\": 15000,\n            \"averageTransaction\": 50,\n            \"failedRate\": 0.05,\n            \"byMethod\": {\n                \"creditCard\": 600,\n                \"paypal\": 300,\n                \"bankTransfer\": 100\n            }\n        },\n        \"enrollments\": {\n            \"total\": 1000,\n            \"last30Days\": 300,\n            \"dropoutRate\": 0.15,\n            \"byCourse\": [\n                { \"courseId\": 1, \"enrollments\": 200 },\n                { \"courseId\": 2, \"enrollments\": 150 }\n            ],\n            \"averageTimeToComplete\": 45,\n            \"completionRate\": 0.65\n        },\n        \"courses\": {\n            \"total\": 50,\n            \"active\": 40,\n            \"completionRate\": 0.65,\n            \"popular\": [\n                { \"courseId\": 1, \"title\": \"Introduction to Programming\", \"enrollments\": 200 },\n                { \"courseId\": 2, \"title\": \"Web Development Basics\", \"enrollments\": 150 }\n            ],\n            \"viewsLast30Days\": 5000\n        }\n    },\n    \"isAutoGenerated\": false,\n    \"generatedBy\": \"user123\"\n}"
				},
				"url": {
					"raw": "{{baseUrl}}/reports",
					"host": [
						"{{baseUrl}}"
					],
					"path": [
						"reports"
					]
				},
				"description": "Tạo một báo cáo mới"
			},
			"response": []
		},
		{
			"name": "Update Report",
			"request": {
				"method": "PUT",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"title\": \"Báo cáo tháng 5/2025 (Cập nhật)\",\n    \"data\": {\n        \"revenue\": {\n            \"total\": 55000,\n            \"last30Days\": 18000,\n            \"averageTransaction\": 55,\n            \"failedRate\": 0.04,\n            \"byMethod\": {\n                \"creditCard\": 650,\n                \"paypal\": 350,\n                \"bankTransfer\": 120\n            }\n        },\n        \"enrollments\": {\n            \"total\": 1100,\n            \"last30Days\": 320,\n            \"dropoutRate\": 0.14,\n            \"byCourse\": [\n                { \"courseId\": 1, \"enrollments\": 220 },\n                { \"courseId\": 2, \"enrollments\": 170 }\n            ],\n            \"averageTimeToComplete\": 43,\n            \"completionRate\": 0.68\n        },\n        \"courses\": {\n            \"total\": 52,\n            \"active\": 42,\n            \"completionRate\": 0.67,\n            \"popular\": [\n                { \"courseId\": 1, \"title\": \"Introduction to Programming\", \"enrollments\": 220 },\n                { \"courseId\": 2, \"title\": \"Web Development Basics\", \"enrollments\": 170 }\n            ],\n            \"viewsLast30Days\": 5500\n        }\n    }\n}"
				},
				"url": {
					"raw": "{{baseUrl}}/reports/:id",
					"host": [
						"{{baseUrl}}"
					],
					"path": [
						"reports",
						":id"
					],
					"variable": [
						{
							"key": "id",
							"value": "report_id",
							"description": "ID của báo cáo cần cập nhật"
						}
					]
				},
				"description": "Cập nhật thông tin của một báo cáo"
			},
			"response": []
		},
		{
			"name": "Delete Report",
			"request": {
				"method": "DELETE",
				"header": [],
				"url": {
					"raw": "{{baseUrl}}/reports/:id",
					"host": [
						"{{baseUrl}}"
					],
					"path": [
						"reports",
						":id"
					],
					"variable": [
						{
							"key": "id",
							"value": "report_id",
							"description": "ID của báo cáo cần xóa"
						}
					]
				},
				"description": "Xóa một báo cáo"
			},
			"response": []
		},
		{
			"name": "Update Report Analysis",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"chartData\": {\n        \"revenue\": {\n            \"labels\": [\"Tháng 1\", \"Tháng 2\", \"Tháng 3\"],\n            \"datasets\": [{\n                \"label\": \"Doanh thu\",\n                \"data\": [15000, 22000, 18000],\n                \"backgroundColor\": \"rgba(75, 192, 192, 0.2)\",\n                \"borderColor\": \"rgba(75, 192, 192, 1)\",\n                \"borderWidth\": 1\n            }]\n        },\n        \"students\": {\n            \"labels\": [\"Lập trình\", \"Thiết kế\", \"Marketing\"],\n            \"datasets\": [{\n                \"label\": \"Số học viên\",\n                \"data\": [25, 18, 12],\n                \"backgroundColor\": [\"#FF6384\", \"#36A2EB\", \"#FFCE56\"],\n                \"borderColor\": [\"#FF6384\", \"#36A2EB\", \"#FFCE56\"],\n                \"borderWidth\": 1\n            }]\n        }\n    },\n    \"predictions\": {\n        \"revenue\": [\n            {\"month\": \"Tháng 4\", \"value\": 20000},\n            {\"month\": \"Tháng 5\", \"value\": 23000},\n            {\"month\": \"Tháng 6\", \"value\": 25000}\n        ],\n        \"students\": [\n            {\"month\": \"Tháng 4\", \"value\": 30},\n            {\"month\": \"Tháng 5\", \"value\": 35},\n            {\"month\": \"Tháng 6\", \"value\": 40}\n        ]\n    },\n    \"recommendations\": [\n        \"Tăng cường marketing cho khóa học Lập trình để thu hút thêm học viên\",\n        \"Cải thiện trải nghiệm người dùng để giảm tỷ lệ bỏ học\",\n        \"Phát triển thêm khóa học về Thiết kế UI/UX để đáp ứng nhu cầu thị trường\"\n    ],\n    \"rawAnalysis\": \"Phân tích chi tiết từ AI: Doanh thu có xu hướng tăng trong tháng 2 nhưng giảm nhẹ trong tháng 3. Số lượng học viên tập trung chủ yếu vào lĩnh vực Lập trình. Dự đoán trong 3 tháng tới, doanh thu và số học viên sẽ tăng đều.\"\n}"
				},
				"url": {
					"raw": "{{baseUrl}}/reports/:id/analysis",
					"host": [
						"{{baseUrl}}"
					],
					"path": [
						"reports",
						":id",
						"analysis"
					],
					"variable": [
						{
							"key": "id",
							"value": "report_id",
							"description": "ID của báo cáo cần cập nhật phân tích"
						}
					]
				},
				"description": "Cập nhật phân tích AI cho báo cáo"
			},
			"response": []
		},
		{
			"name": "Generate Report",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"userId\": \"user123\"\n}"
				},
				"url": {
					"raw": "{{baseUrl}}/reports/generate",
					"host": [
						"{{baseUrl}}"
					],
					"path": [
						"reports",
						"generate"
					]
				},
				"description": "Tạo báo cáo tự động từ các endpoint khác"
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:3002",
			"type": "string",
			"description": "URL cơ sở của Report Service API"
		}
	]
}
